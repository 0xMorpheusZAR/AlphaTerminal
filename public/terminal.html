<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaTerminal - Crypto Dashboard</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- TradingView Charting Library -->
    <script type="text/javascript" src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    
    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Chart.js for additional charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body class="dark-theme">
    
    <!-- Main Application (Direct Terminal Interface) -->
    <div id="app" class="app-container">
        
        <!-- Top Navigation Bar -->
        <header class="top-nav">
            <div class="nav-left">
                <div class="logo">
                    <span class="logo-alpha">ALPHA</span>
                    <span class="logo-terminal">TERMINAL</span>
                </div>
                <div class="market-status">
                    <span class="status-indicator" id="market-status"></span>
                    <span class="status-text">MARKETS OPEN</span>
                </div>
            </div>
            
            <div class="nav-center">
                <div class="search-bar">
                    <input type="text" id="symbol-search" placeholder="Search symbols..." />
                    <button class="search-btn">‚ö°</button>
                </div>
            </div>
            
            <div class="nav-right">
                <div class="global-metrics">
                    <span class="metric">
                        <label>TOTAL CAP</label>
                        <value id="total-market-cap">$0</value>
                    </span>
                    <span class="metric">
                        <label>BTC.D</label>
                        <value id="btc-dominance">0%</value>
                    </span>
                    <span class="metric">
                        <label>FEAR/GREED</label>
                        <value id="fear-greed-index">--</value>
                    </span>
                </div>
                <div class="user-controls">
                    <button class="layout-btn" id="layout-toggle">‚öè</button>
                    <button class="settings-btn" id="settings-toggle">‚öô</button>
                </div>
            </div>
        </header>

        <!-- Main Dashboard Grid -->
        <main class="dashboard-grid" id="dashboard-grid">
            
            <!-- Panel 1: Market Overview -->
            <div class="dashboard-panel market-overview" data-panel="market-overview">
                <div class="panel-header">
                    <h3 class="panel-title">MARKET OVERVIEW</h3>
                    <div class="panel-controls">
                        <button class="panel-btn refresh-btn" data-action="refresh">‚Üª</button>
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                        <button class="panel-btn close-btn" data-action="close">‚úï</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="market-summary">
                        <div class="summary-cards">
                            <div class="summary-card bullish">
                                <div class="card-label">GAINERS</div>
                                <div class="card-value" id="gainers-count">0</div>
                            </div>
                            <div class="summary-card bearish">
                                <div class="card-label">LOSERS</div>
                                <div class="card-value" id="losers-count">0</div>
                            </div>
                            <div class="summary-card neutral">
                                <div class="card-label">STABLE</div>
                                <div class="card-value" id="stable-count">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="top-cryptos-table" id="top-cryptos-table">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>

            <!-- Panel 2: Real-time Chart -->
            <div class="dashboard-panel chart-panel" data-panel="main-chart">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <span id="chart-symbol">BTC/USD</span>
                        <span class="chart-price" id="chart-price">$0</span>
                        <span class="chart-change" id="chart-change">+0.00%</span>
                    </h3>
                    <div class="chart-controls">
                        <div class="timeframe-selector">
                            <button class="timeframe-btn active" data-timeframe="1m">1M</button>
                            <button class="timeframe-btn" data-timeframe="5m">5M</button>
                            <button class="timeframe-btn" data-timeframe="15m">15M</button>
                            <button class="timeframe-btn" data-timeframe="1h">1H</button>
                            <button class="timeframe-btn" data-timeframe="4h">4H</button>
                            <button class="timeframe-btn" data-timeframe="1d">1D</button>
                        </div>
                        <div class="panel-controls">
                            <button class="panel-btn indicators-btn" data-action="indicators">üìä</button>
                            <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                        </div>
                    </div>
                </div>
                <div class="panel-content">
                    <div id="trading-chart" class="trading-chart"></div>
                </div>
            </div>

            <!-- Panel 3: Order Book -->
            <div class="dashboard-panel orderbook-panel" data-panel="orderbook">
                <div class="panel-header">
                    <h3 class="panel-title">ORDER BOOK</h3>
                    <div class="panel-controls">
                        <select class="symbol-selector" id="orderbook-symbol">
                            <option value="BTC/USDT">BTC/USDT</option>
                            <option value="ETH/USDT">ETH/USDT</option>
                            <option value="BNB/USDT">BNB/USDT</option>
                        </select>
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="orderbook-container" id="orderbook-container">
                        <!-- Dynamic order book data -->
                    </div>
                </div>
            </div>

            <!-- Panel 4: DeFi Analytics -->
            <div class="dashboard-panel defi-panel" data-panel="defi">
                <div class="panel-header">
                    <h3 class="panel-title">DEFI ANALYTICS</h3>
                    <div class="panel-controls">
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="defi-metrics">
                        <div class="metric-card">
                            <div class="metric-label">TOTAL TVL</div>
                            <div class="metric-value" id="total-tvl">$0</div>
                            <div class="metric-change" id="tvl-change">+0.00%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">TOP PROTOCOL</div>
                            <div class="metric-value" id="top-protocol">--</div>
                        </div>
                    </div>
                    <div class="defi-protocols-list" id="defi-protocols">
                        <!-- Dynamic DeFi protocol data -->
                    </div>
                </div>
            </div>

            <!-- Panel 5: Derivatives -->
            <div class="dashboard-panel derivatives-panel" data-panel="derivatives">
                <div class="panel-header">
                    <h3 class="panel-title">DERIVATIVES</h3>
                    <div class="panel-controls">
                        <div class="derivative-type-selector">
                            <button class="type-btn active" data-type="futures">FUTURES</button>
                            <button class="type-btn" data-type="perpetuals">PERPS</button>
                            <button class="type-btn" data-type="options">OPTIONS</button>
                        </div>
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="derivatives-summary">
                        <div class="summary-metric">
                            <div class="summary-label">TOTAL OI</div>
                            <div class="summary-value" id="total-oi">$0</div>
                        </div>
                        <div class="summary-metric">
                            <div class="summary-label">AVG FUNDING</div>
                            <div class="summary-value" id="avg-funding">0.00%</div>
                        </div>
                    </div>
                    <div class="derivatives-table" id="derivatives-table">
                        <!-- Dynamic derivatives data -->
                    </div>
                </div>
            </div>

            <!-- Panel 6: NFT Market -->
            <div class="dashboard-panel nft-panel" data-panel="nfts">
                <div class="panel-header">
                    <h3 class="panel-title">NFT MARKET</h3>
                    <div class="panel-controls">
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="nft-metrics">
                        <div class="nft-metric">
                            <div class="metric-label">MARKET CAP</div>
                            <div class="metric-value" id="nft-market-cap">$0</div>
                        </div>
                        <div class="nft-metric">
                            <div class="metric-label">24H VOLUME</div>
                            <div class="metric-value" id="nft-volume">$0</div>
                        </div>
                    </div>
                    <div class="nft-collections" id="nft-collections">
                        <!-- Dynamic NFT collections -->
                    </div>
                </div>
            </div>

            <!-- Panel 7: News & Sentiment -->
            <div class="dashboard-panel news-panel" data-panel="news">
                <div class="panel-header">
                    <h3 class="panel-title">MARKET SENTIMENT</h3>
                    <div class="panel-controls">
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="sentiment-gauge" id="sentiment-gauge">
                        <div class="gauge-container">
                            <canvas id="sentiment-chart" width="200" height="100"></canvas>
                        </div>
                    </div>
                    <div class="trending-topics" id="trending-topics">
                        <!-- Dynamic trending data -->
                    </div>
                </div>
            </div>

            <!-- Panel 8: Portfolio (if authenticated) -->
            <div class="dashboard-panel portfolio-panel" data-panel="portfolio" style="display: none;">
                <div class="panel-header">
                    <h3 class="panel-title">PORTFOLIO</h3>
                    <div class="panel-controls">
                        <button class="panel-btn add-btn" data-action="add-holding">+</button>
                        <button class="panel-btn maximize-btn" data-action="maximize">‚õ∂</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="portfolio-summary">
                        <div class="portfolio-value">
                            <span class="value-label">TOTAL VALUE</span>
                            <span class="value-amount" id="portfolio-value">$0</span>
                        </div>
                        <div class="portfolio-pnl">
                            <span class="pnl-label">24H P&L</span>
                            <span class="pnl-amount" id="portfolio-pnl">+$0</span>
                        </div>
                    </div>
                    <div class="portfolio-holdings" id="portfolio-holdings">
                        <!-- Dynamic portfolio holdings -->
                    </div>
                </div>
            </div>

        </main>

        <!-- Bottom Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="connection-status">
                    <span class="status-dot" id="connection-dot"></span>
                    <span id="connection-status">CONNECTED</span>
                </span>
                <span class="data-source">
                    <span>DATA:</span>
                    <span id="data-source">COINGECKO-PRO</span>
                </span>
            </div>
            
            <div class="status-center">
                <span class="last-update">
                    <span>LAST UPDATE:</span>
                    <span id="last-update">--:--:--</span>
                </span>
            </div>
            
            <div class="status-right">
                <span class="api-status">
                    <span>API:</span>
                    <span id="api-credits">-- CREDITS</span>
                </span>
                <span class="system-time" id="system-time">--:--:--</span>
            </div>
        </footer>

    </div>

    <!-- Scripts -->
    <script src="/js/utils.js"></script>
    <script src="/js/websocket.js"></script>
    <script src="/js/chart.js"></script>
    <script src="/js/dashboard.js"></script>
    <script src="/js/terminal.js"></script>

</body>
</html>